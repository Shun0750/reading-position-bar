(()=>{"use strict";var e={814:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},122:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var n,r,o=(r=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(n,r)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],i=o[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(c," */"),u=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(u).concat([l]).join("\n")}return[a].join("\n")}},263:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(122),o=n.n(r),a=n(814),i=n.n(a)()(o());i.push([e.id,":root {\n  barRight: 0;\n  bgColor: rebeccapurple;\n  barWidth: 8px;\n  zIndex: 1000;\n}\n\n.reading-position-bar__wrapper {\n  display: none;\n  position: fixed;\n  right: var(--barRight);\n  top: 0;\n  width: var(--barWidth);\n  height: 100%;\n  background: #DDD;\n  z-index: 1000;\n}\n\n.reading-position-bar__wrapper__indicator {\n  background: var(--bgColor);\n  height: 0;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n}\n\n.reading-position-bar__wrapper__text {\n  position: absolute;\n  right: 0px;\n  margin-top: -20px;\n  padding: 5px;\n  width: 40px;\n  background: var(--bgColor);\n  color: white;\n  text-align: right;\n  font-size: 12px;\n}\n","",{version:3,sources:["webpack://src/scss/style.scss"],names:[],mappings:"AAAA;EACE,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,YAAY;AACd;;AAGE;EACE,aAAa;EACb,eAAe;EACf,sBAAsB;EACtB,MAAM;EACN,sBAAsB;EACtB,YAAY;EACZ,gBAAgB;EAChB,aAAa;AAAjB;;AAEI;EACE,0BAA0B;EAC1B,SAAS;EACT,8BAA8B;EAC9B,+BAA+B;AACrC;;AAEI;EACE,kBAAkB;EAClB,UAAU;EACV,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,0BAA0B;EAC1B,YAAY;EACZ,iBAAiB;EACjB,eAAe;AACrB",sourcesContent:[":root {\n  barRight: 0;\n  bgColor: rebeccapurple;\n  barWidth: 8px;\n  zIndex: 1000;\n}\n\n.reading-position-bar {\n  &__wrapper {\n    display: none;\n    position: fixed;\n    right: var(--barRight);\n    top: 0;\n    width: var(--barWidth);\n    height: 100%;\n    background: #DDD;\n    z-index: 1000;\n\n    &__indicator {\n      background: var(--bgColor);\n      height: 0;\n      border-bottom-left-radius: 8px;\n      border-bottom-right-radius: 8px;\n    }\n\n    &__text {\n      position: absolute;\n      right: 0px;\n      margin-top: -20px;\n      padding: 5px;\n      width: 40px;\n      background: var(--bgColor);\n      color: white;\n      text-align: right;\n      font-size: 12px;\n    }\n  }\n}"],sourceRoot:""}]);const s=i},379:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],o=0;o<e.length;o++){var s=e[o],c=t.base?s[0]+t.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var p=i(u),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(a[p].references++,a[p].updater(d)):a.push({identifier:u,updater:b(d,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,g=0;function b(e,t){var n,r,o;if(t.singleton){var a=g++;n=f||(f=c(t)),r=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=c(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var c=s(e,t),l=0;l<n.length;l++){var u=i(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=c}}}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r;return n=t,r=[{key:"createDoms",value:function(e){var t=document.createElement("div");t.className="reading-position-bar__wrapper",t.style.setProperty("--barWidth","10px"),t.style.setProperty("--barRight","0"),t.style.setProperty("--zIndex","1000");var n=document.createElement("div");n.className="reading-position-bar__wrapper__indicator",n.style.setProperty("--bgColor","black"),t.append(n);var r=document.createElement("div");r.className="reading-position-bar__wrapper__text",r.style.setProperty("--bgColor","black"),t.append(r),e.setAttribute("data-reading-position-bar-wrapper","true"),e.append(t)}},{key:"setBgColor",value:function(e){document.querySelector(".reading-position-bar__wrapper__indicator").style.setProperty("--bgColor",e),document.querySelector(".reading-position-bar__wrapper__text").style.setProperty("--bgColor",e)}},{key:"disableText",value:function(){var e=document.querySelector(".reading-position-bar__wrapper__text");e.parentNode.removeChild(e)}},{key:"setBarWidth",value:function(e){var t=parseInt(e);document.querySelector(".reading-position-bar__wrapper").style.setProperty("--barWidth",t+"px")}},{key:"setBarRight",value:function(e){var t=parseInt(e);document.querySelector(".reading-position-bar__wrapper").style.setProperty("--barRight",t+"px")}},{key:"setZIndex",value:function(e){var t=parseInt(e);document.querySelector(".reading-position-bar__wrapper").style.setProperty("--zIndex",t)}}],null&&e(n.prototype,null),r&&e(n,r),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"getReadRate",value:function(e){var t=window.innerHeight,n=(window.pageYOffset,Math.max(e.scrollHeight,e.offsetHeight)),r=100*(window.scrollY+t-e.offsetTop)/n,o=parseInt(r.toString(),10);return o>100&&(o=100),o}},{key:"getBarHeight",value:function(e,t,n){var r=window.innerHeight-t,o=parseInt((r*e/100).toString(),10);return window.innerHeight+window.scrollY>n&&(o-=parseInt(window.innerHeight+window.scrollY-n,10)),o<0&&(o=0),o}},{key:"getElementYPos",value:function(e){var t=e.offsetTop-window.scrollY;return t<0&&(t=0),t}}],null&&r(t.prototype,null),n&&r(t,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setEvent",value:function(){document.addEventListener("scroll",(function(){var e=document.querySelector("[data-reading-position-bar-wrapper=true]"),t=document.querySelector(".reading-position-bar__wrapper__indicator");if(t&&void 0!==t){var n=o.getElementYPos(e),r=document.querySelector(".reading-position-bar__wrapper");r.style.top=n+"px",r.style.display="block";var a=o.getReadRate(e),i=e.offsetTop+e.getBoundingClientRect().height,s=o.getBarHeight(a,n,i);t.style.height=s+"px";var c=document.querySelector(".reading-position-bar__wrapper__text");c.innerHTML=a+"%",c.style.marginTop=0===s?"-32px":"-20px",r.style.height=100===a?s+"px":"100%"}}))}}],null&&a(t.prototype,null),n&&a(t,n),e}(),s=n(379),c=n.n(s),l=n(263);c()(l.Z,{insert:"head",singleton:!1}),l.Z.locals,HTMLElement.prototype.addReadingPositionBar=function(e){t.createDoms(this),i.setEvent(),"bgColor"in e&&t.setBgColor(e.bgColor),"showText"in e&&!1===e.showText&&t.disableText(),"barWidth"in e&&t.setBarWidth(e.barWidth),"right"in e&&t.setBarRight(e.right),"zIndex"in e&&t.setZIndex(e.zIndex)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3NzL3N0eWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vLi9zcmMvZG9tLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3NzL3N0eWxlLnNjc3M/NzYwMSIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY29uY2F0Iiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsIl9pIiwicHVzaCIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX2l0ZW0iLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJPYmplY3QiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJEb20iLCJlbGVtIiwid3JhcHBlciIsImNsYXNzTmFtZSIsInNldFByb3BlcnR5IiwiaW5kaWNhdG9yIiwiYXBwZW5kIiwidGV4dCIsImNvbG9yIiwid2lkdGgiLCJiYXJXaWR0aCIsInBhcnNlSW50IiwicmlnaHQiLCJiYXJSaWdodCIsInpJbmRleCIsImJhclpJbmRleCIsIlV0aWxzIiwid2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJwYWdlSGVpZ2h0IiwicGFnZVlPZmZzZXQiLCJNYXRoIiwibWF4Iiwic2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwicmF0ZSIsInNjcm9sbFkiLCJvZmZzZXRUb3AiLCJpbnRSYXRlIiwiZWxlbVlQb3MiLCJlbGVtQm90dG9tWSIsImVsZW1WaXNpYmxlSGVpZ2h0IiwiaW50SGVpZ2h0IiwicmVsYXRpdmVZIiwiRXZlbnRIYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhcmVudCIsImVsZW1lbnRZUG9zIiwiZ2V0RWxlbWVudFlQb3MiLCJ0b3AiLCJkaXNwbGF5IiwicmVhZFJhdGUiLCJnZXRSZWFkUmF0ZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsImJhckhlaWdodCIsImdldEJhckhlaWdodCIsImlubmVySFRNTCIsIm1hcmdpblRvcCIsIkhUTUxFbGVtZW50IiwiYWRkUmVhZGluZ1Bvc2l0aW9uQmFyIiwiYmdDb2xvciIsInNob3dUZXh0Il0sIm1hcHBpbmdzIjoia0NBUUFBLEVBQU9DLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVU4sRUFBdUJLLEdBRXJDLE9BQUlBLEVBQUssR0FDQSxVQUFVRSxPQUFPRixFQUFLLEdBQUksTUFBTUUsT0FBT0QsRUFBUyxLQUdsREEsS0FDTkUsS0FBSyxLQUtWUCxFQUFLUSxFQUFJLFNBQVVDLEVBQVNDLEVBQVlDLEdBQ2YsaUJBQVpGLElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSUcsRUFBeUIsR0FFN0IsR0FBSUQsRUFDRixJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSU4sS0FBS1csT0FBUUwsSUFBSyxDQUVwQyxJQUFJTSxFQUFLWixLQUFLTSxHQUFHLEdBRVAsTUFBTk0sSUFDRkYsRUFBdUJFLElBQU0sR0FLbkMsSUFBSyxJQUFJQyxFQUFLLEVBQUdBLEVBQUtOLEVBQVFJLE9BQVFFLElBQU0sQ0FDMUMsSUFBSVgsRUFBTyxHQUFHRSxPQUFPRyxFQUFRTSxJQUV6QkosR0FBVUMsRUFBdUJSLEVBQUssTUFLdENNLElBQ0dOLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdFLE9BQU9JLEVBQVksU0FBU0osT0FBT0YsRUFBSyxJQUZyREEsRUFBSyxHQUFLTSxHQU1kVixFQUFLZ0IsS0FBS1osTUFJUEosSSxRQ3hEVCxTQUFTaUIsRUFBa0JDLEVBQUtDLElBQWtCLE1BQVBBLEdBQWVBLEVBQU1ELEVBQUlMLFVBQVFNLEVBQU1ELEVBQUlMLFFBQVEsSUFBSyxJQUFJTCxFQUFJLEVBQUdZLEVBQU8sSUFBSUMsTUFBTUYsR0FBTVgsRUFBSVcsRUFBS1gsSUFBT1ksRUFBS1osR0FBS1UsRUFBSVYsR0FBTSxPQUFPWSxFQU1oTHZCLEVBQU9DLFFBQVUsU0FBZ0NNLEdBQy9DLElBYnNCYyxFQUFLVixFQWF2QmMsR0FidUJkLEVBYU0sRUFIbkMsU0FBeUJVLEdBQU8sR0FBSUcsTUFBTUUsUUFBUUwsR0FBTSxPQUFPQSxFQVZ0Qk0sQ0FBakJOLEVBYUtkLElBTDdCLFNBQStCYyxFQUFLVixHQUFLLEdBQXNCLG9CQUFYaUIsUUFBNEJBLE9BQU9DLFlBQVlDLE9BQU9ULEdBQWpFLENBQWdGLElBQUlVLEVBQU8sR0FBUUMsR0FBSyxFQUFVQyxHQUFLLEVBQVdDLE9BQUtDLEVBQVcsSUFBTSxJQUFLLElBQWlDQyxFQUE3QmxCLEVBQUtHLEVBQUlPLE9BQU9DLGNBQW1CRyxHQUFNSSxFQUFLbEIsRUFBR21CLFFBQVFDLFFBQW9CUCxFQUFLWixLQUFLaUIsRUFBR0csUUFBWTVCLEdBQUtvQixFQUFLZixTQUFXTCxHQUEzRHFCLEdBQUssSUFBb0UsTUFBT1EsR0FBT1AsR0FBSyxFQUFNQyxFQUFLTSxFQUF0TCxRQUF1TSxJQUFXUixHQUFzQixNQUFoQmQsRUFBRSxRQUFvQkEsRUFBRSxTQUF6QyxRQUFtRSxHQUFJZSxFQUFJLE1BQU1DLEdBQVEsT0FBT0gsR0FSamFVLENBQXNCcEIsRUFBS1YsSUFJNUYsU0FBcUMrQixFQUFHQyxHQUFVLEdBQUtELEVBQUwsQ0FBZ0IsR0FBaUIsaUJBQU5BLEVBQWdCLE9BQU90QixFQUFrQnNCLEVBQUdDLEdBQVMsSUFBSUMsRUFBSWQsT0FBT2UsVUFBVXpDLFNBQVMwQyxLQUFLSixHQUFHSyxNQUFNLEdBQUksR0FBaUUsTUFBbkQsV0FBTkgsR0FBa0JGLEVBQUVNLGNBQWFKLEVBQUlGLEVBQUVNLFlBQVlDLE1BQWdCLFFBQU5MLEdBQXFCLFFBQU5BLEVBQW9CcEIsTUFBTTBCLEtBQUtSLEdBQWMsY0FBTkUsR0FBcUIsMkNBQTJDTyxLQUFLUCxHQUFXeEIsRUFBa0JzQixFQUFHQyxRQUF6RyxHQUozTVMsQ0FBNEIvQixFQUFLVixJQUVuSSxXQUE4QixNQUFNLElBQUkwQyxVQUFVLDZJQUZ1RkMsSUFjbkk5QyxFQUFVaUIsRUFBTSxHQUNoQjhCLEVBQWE5QixFQUFNLEdBRXZCLEdBQW9CLG1CQUFUK0IsS0FBcUIsQ0FFOUIsSUFBSUMsRUFBU0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTixNQUN6RE8sRUFBTywrREFBK0RyRCxPQUFPZ0QsR0FDN0VNLEVBQWdCLE9BQU90RCxPQUFPcUQsRUFBTSxPQUNwQ0UsRUFBYVQsRUFBV1UsUUFBUTNELEtBQUksU0FBVTRELEdBQ2hELE1BQU8saUJBQWlCekQsT0FBTzhDLEVBQVdZLFlBQWMsSUFBSTFELE9BQU95RCxFQUFRLFVBRTdFLE1BQU8sQ0FBQzFELEdBQVNDLE9BQU91RCxHQUFZdkQsT0FBTyxDQUFDc0QsSUFBZ0JyRCxLQUFLLE1BR25FLE1BQU8sQ0FBQ0YsR0FBU0UsS0FBSyxRLDhEQzNCcEIwRCxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QmpELEtBQUssQ0FBQ25CLEVBQU9pQixHQUFJLDZxQkFBOHFCLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLGlDQUFpQyxNQUFRLEdBQUcsU0FBVywwVUFBMFUsZUFBaUIsQ0FBQyxrdEJBQWt0QixXQUFhLE1BRXAyRCxXLGNDTEEsSUFDTW9ELEVBZUZDLEVBQVksV0FDZCxJQUFJRCxFQUFPLEdBQ1gsT0FBTyxTQUFrQkUsR0FDdkIsUUFBNEIsSUFBakJGLEVBQUtFLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNDLFNBQVNDLGNBQWNILEdBRXpDLEdBQUlJLE9BQU9DLG1CQUFxQkosYUFBdUJHLE9BQU9DLGtCQUM1RCxJQUdFSixFQUFjQSxFQUFZSyxnQkFBZ0JDLEtBQzFDLE1BQU9DLEdBRVBQLEVBQWMsS0FJbEJILEVBQUtFLEdBQVVDLEVBR2pCLE9BQU9ILEVBQUtFLElBcEJBLEdBd0JaUyxFQUFjLEdBRWxCLFNBQVNDLEVBQXFCQyxHQUc1QixJQUZBLElBQUlDLEdBQVUsRUFFTHhFLEVBQUksRUFBR0EsRUFBSXFFLEVBQVloRSxPQUFRTCxJQUN0QyxHQUFJcUUsRUFBWXJFLEdBQUd1RSxhQUFlQSxFQUFZLENBQzVDQyxFQUFTeEUsRUFDVCxNQUlKLE9BQU93RSxFQUdULFNBQVNDLEVBQWFqRixFQUFNa0YsR0FJMUIsSUFIQSxJQUFJQyxFQUFhLEdBQ2JDLEVBQWMsR0FFVDVFLEVBQUksRUFBR0EsRUFBSVIsRUFBS2EsT0FBUUwsSUFBSyxDQUNwQyxJQUFJSixFQUFPSixFQUFLUSxHQUNaTSxFQUFLb0UsRUFBUUcsS0FBT2pGLEVBQUssR0FBSzhFLEVBQVFHLEtBQU9qRixFQUFLLEdBQ2xEa0YsRUFBUUgsRUFBV3JFLElBQU8sRUFDMUJpRSxFQUFhLEdBQUd6RSxPQUFPUSxFQUFJLEtBQUtSLE9BQU9nRixHQUMzQ0gsRUFBV3JFLEdBQU13RSxFQUFRLEVBQ3pCLElBQUlDLEVBQVFULEVBQXFCQyxHQUM3QlMsRUFBTSxDQUNSQyxJQUFLckYsRUFBSyxHQUNWc0YsTUFBT3RGLEVBQUssR0FDWnVGLFVBQVd2RixFQUFLLEtBR0gsSUFBWG1GLEdBQ0ZWLEVBQVlVLEdBQU9LLGFBQ25CZixFQUFZVSxHQUFPTSxRQUFRTCxJQUUzQlgsRUFBWTdELEtBQUssQ0FDZitELFdBQVlBLEVBQ1pjLFFBQVNDLEVBQVNOLEVBQUtOLEdBQ3ZCVSxXQUFZLElBSWhCUixFQUFZcEUsS0FBSytELEdBR25CLE9BQU9LLEVBR1QsU0FBU1csRUFBbUJiLEdBQzFCLElBQUljLEVBQVExQixTQUFTMkIsY0FBYyxTQUMvQkMsRUFBYWhCLEVBQVFnQixZQUFjLEdBRXZDLFFBQWdDLElBQXJCQSxFQUFXQyxNQUF1QixDQUMzQyxJQUFJQSxFQUFtRCxLQUVuREEsSUFDRkQsRUFBV0MsTUFBUUEsR0FRdkIsR0FKQXhFLE9BQU95RSxLQUFLRixHQUFZRyxTQUFRLFNBQVVDLEdBQ3hDTixFQUFNTyxhQUFhRCxFQUFLSixFQUFXSSxPQUdQLG1CQUFuQnBCLEVBQVFzQixPQUNqQnRCLEVBQVFzQixPQUFPUixPQUNWLENBQ0wsSUFBSTVCLEVBQVNELEVBQVVlLEVBQVFzQixRQUFVLFFBRXpDLElBQUtwQyxFQUNILE1BQU0sSUFBSXFDLE1BQU0sMkdBR2xCckMsRUFBT3NDLFlBQVlWLEdBR3JCLE9BQU9BLEVBY1QsSUFDTVcsRUFERkMsR0FDRUQsRUFBWSxHQUNULFNBQWlCcEIsRUFBT3NCLEdBRTdCLE9BREFGLEVBQVVwQixHQUFTc0IsRUFDWkYsRUFBVUcsT0FBT0MsU0FBU3hHLEtBQUssUUFJMUMsU0FBU3lHLEVBQW9CaEIsRUFBT1QsRUFBTzBCLEVBQVF6QixHQUNqRCxJQUFJQyxFQUFNd0IsRUFBUyxHQUFLekIsRUFBSUUsTUFBUSxVQUFVcEYsT0FBT2tGLEVBQUlFLE1BQU8sTUFBTXBGLE9BQU9rRixFQUFJQyxJQUFLLEtBQU9ELEVBQUlDLElBSWpHLEdBQUlPLEVBQU1rQixXQUNSbEIsRUFBTWtCLFdBQVdDLFFBQVVQLEVBQVlyQixFQUFPRSxPQUN6QyxDQUNMLElBQUkyQixFQUFVOUMsU0FBUytDLGVBQWU1QixHQUNsQzZCLEVBQWF0QixFQUFNc0IsV0FFbkJBLEVBQVcvQixJQUNiUyxFQUFNdUIsWUFBWUQsRUFBVy9CLElBRzNCK0IsRUFBV3pHLE9BQ2JtRixFQUFNd0IsYUFBYUosRUFBU0UsRUFBVy9CLElBRXZDUyxFQUFNVSxZQUFZVSxJQUt4QixTQUFTSyxFQUFXekIsRUFBT2QsRUFBU00sR0FDbEMsSUFBSUMsRUFBTUQsRUFBSUMsSUFDVkMsRUFBUUYsRUFBSUUsTUFDWkMsRUFBWUgsRUFBSUcsVUFlcEIsR0FiSUQsRUFDRk0sRUFBTU8sYUFBYSxRQUFTYixHQUU1Qk0sRUFBTTBCLGdCQUFnQixTQUdwQi9CLEdBQTZCLG9CQUFUdEMsT0FDdEJvQyxHQUFPLHVEQUF1RG5GLE9BQU8rQyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVpQyxNQUFlLFFBTWxJSyxFQUFNa0IsV0FDUmxCLEVBQU1rQixXQUFXQyxRQUFVMUIsTUFDdEIsQ0FDTCxLQUFPTyxFQUFNMkIsWUFDWDNCLEVBQU11QixZQUFZdkIsRUFBTTJCLFlBRzFCM0IsRUFBTVUsWUFBWXBDLFNBQVMrQyxlQUFlNUIsS0FJOUMsSUFBSW1DLEVBQVksS0FDWkMsRUFBbUIsRUFFdkIsU0FBUy9CLEVBQVNOLEVBQUtOLEdBQ3JCLElBQUljLEVBQ0E4QixFQUNBYixFQUVKLEdBQUkvQixFQUFRMEMsVUFBVyxDQUNyQixJQUFJRyxFQUFhRixJQUNqQjdCLEVBQVE0QixJQUFjQSxFQUFZN0IsRUFBbUJiLElBQ3JENEMsRUFBU2QsRUFBb0JnQixLQUFLLEtBQU1oQyxFQUFPK0IsR0FBWSxHQUMzRGQsRUFBU0QsRUFBb0JnQixLQUFLLEtBQU1oQyxFQUFPK0IsR0FBWSxRQUUzRC9CLEVBQVFELEVBQW1CYixHQUMzQjRDLEVBQVNMLEVBQVdPLEtBQUssS0FBTWhDLEVBQU9kLEdBRXRDK0IsRUFBUyxZQXhGYixTQUE0QmpCLEdBRTFCLEdBQXlCLE9BQXJCQSxFQUFNaUMsV0FDUixPQUFPLEVBR1RqQyxFQUFNaUMsV0FBV1YsWUFBWXZCLEdBbUZ6QmtDLENBQW1CbEMsSUFLdkIsT0FEQThCLEVBQU90QyxHQUNBLFNBQXFCMkMsR0FDMUIsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU8xQyxNQUFRRCxFQUFJQyxLQUFPMEMsRUFBT3pDLFFBQVVGLEVBQUlFLE9BQVN5QyxFQUFPeEMsWUFBY0gsRUFBSUcsVUFDbkYsT0FHRm1DLEVBQU90QyxFQUFNMkMsUUFFYmxCLEtBS05wSCxFQUFPQyxRQUFVLFNBQVVFLEVBQU1rRixJQUMvQkEsRUFBVUEsR0FBVyxJQUdSMEMsV0FBMEMsa0JBQXRCMUMsRUFBUTBDLFlBQ3ZDMUMsRUFBUTBDLGdCQXJPWSxJQUFUMUQsSUFNVEEsRUFBTzZDLFFBQVF2QyxRQUFVRixVQUFZQSxTQUFTOEQsTUFBUTVELE9BQU82RCxPQUd4RG5FLElBZ09ULElBQUlvRSxFQUFrQnJELEVBRHRCakYsRUFBT0EsR0FBUSxHQUMwQmtGLEdBQ3pDLE9BQU8sU0FBZ0JxRCxHQUdyQixHQUZBQSxFQUFVQSxHQUFXLEdBRTJCLG1CQUE1QzVHLE9BQU9lLFVBQVV6QyxTQUFTMEMsS0FBSzRGLEdBQW5DLENBSUEsSUFBSyxJQUFJL0gsRUFBSSxFQUFHQSxFQUFJOEgsRUFBZ0J6SCxPQUFRTCxJQUFLLENBQy9DLElBQ0krRSxFQUFRVCxFQURLd0QsRUFBZ0I5SCxJQUVqQ3FFLEVBQVlVLEdBQU9LLGFBS3JCLElBRkEsSUFBSTRDLEVBQXFCdkQsRUFBYXNELEVBQVNyRCxHQUV0Q25FLEVBQUssRUFBR0EsRUFBS3VILEVBQWdCekgsT0FBUUUsSUFBTSxDQUNsRCxJQUVJMEgsRUFBUzNELEVBRkt3RCxFQUFnQnZILElBSUssSUFBbkM4RCxFQUFZNEQsR0FBUTdDLGFBQ3RCZixFQUFZNEQsR0FBUTVDLFVBRXBCaEIsRUFBWTZELE9BQU9ELEVBQVEsSUFJL0JILEVBQWtCRSxPQ3pRbEJHLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVUvSSxRQUczQyxJQUFJRCxFQUFTOEksRUFBeUJFLEdBQVksQ0FDakQvSCxHQUFJK0gsRUFFSi9JLFFBQVMsSUFPVixPQUhBZ0osRUFBb0JELEdBQVVoSixFQUFRQSxFQUFPQyxRQUFTOEksR0FHL0MvSSxFQUFPQyxRQ25CZjhJLEVBQW9CbkcsRUFBSzVDLElBQ3hCLElBQUlrSixFQUFTbEosR0FBVUEsRUFBT21KLFdBQzdCLElBQU1uSixFQUFnQixRQUN0QixJQUFNQSxFQUVQLE9BREErSSxFQUFvQkssRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkgsRUFBb0JLLEVBQUksQ0FBQ25KLEVBQVNxSixLQUNqQyxJQUFJLElBQUk3QyxLQUFPNkMsRUFDWFAsRUFBb0JyRyxFQUFFNEcsRUFBWTdDLEtBQVNzQyxFQUFvQnJHLEVBQUV6QyxFQUFTd0csSUFDNUUzRSxPQUFPeUgsZUFBZXRKLEVBQVN3RyxFQUFLLENBQUUrQyxZQUFZLEVBQU1DLElBQUtILEVBQVc3QyxNQ0ozRXNDLEVBQW9CckcsRUFBSSxDQUFDaUQsRUFBSytELElBQVM1SCxPQUFPZSxVQUFVOEcsZUFBZTdHLEtBQUs2QyxFQUFLK0QsRyxnTENBNURFLEUscUxBQ0VDLEdBQ2YsSUFBTUMsRUFBVXJGLFNBQVMyQixjQUFjLE9BQ3ZDMEQsRUFBUUMsVUFBWSxnQ0FDcEJELEVBQVEzRCxNQUFNNkQsWUFBWSxhQUFjLFFBQ3hDRixFQUFRM0QsTUFBTTZELFlBQVksYUFBYyxLQUN4Q0YsRUFBUTNELE1BQU02RCxZQUFZLFdBQVksUUFFdEMsSUFBTUMsRUFBWXhGLFNBQVMyQixjQUFjLE9BQ3pDNkQsRUFBVUYsVUFBWSwyQ0FDdEJFLEVBQVU5RCxNQUFNNkQsWUFBWSxZQUFhLFNBQ3pDRixFQUFRSSxPQUFPRCxHQUVmLElBQU1FLEVBQU8xRixTQUFTMkIsY0FBYyxPQUNwQytELEVBQUtKLFVBQVksc0NBQ2pCSSxFQUFLaEUsTUFBTTZELFlBQVksWUFBYSxTQUNwQ0YsRUFBUUksT0FBT0MsR0FFZk4sRUFBS25ELGFBQWEsb0NBQW9DLFFBQ3REbUQsRUFBS0ssT0FBT0osSyxpQ0FHR00sR0FDRzNGLFNBQVNDLGNBQWMsNkNBQy9CeUIsTUFBTTZELFlBQVksWUFBYUksR0FFNUIzRixTQUFTQyxjQUFjLHdDQUMvQnlCLE1BQU02RCxZQUFZLFlBQWFJLEssb0NBSXBDLElBQU1ELEVBQU8xRixTQUFTQyxjQUFjLHdDQUNwQ3lGLEVBQUsvQixXQUFXVixZQUFZeUMsSyxrQ0FHWkUsR0FDaEIsSUFBTUMsRUFBV0MsU0FBU0YsR0FDVjVGLFNBQVNDLGNBQWMsa0NBQy9CeUIsTUFBTTZELFlBQVksYUFBY00sRUFBVyxRLGtDQUduQ0UsR0FDaEIsSUFBTUMsRUFBV0YsU0FBU0MsR0FDVi9GLFNBQVNDLGNBQWMsa0NBQy9CeUIsTUFBTTZELFlBQVksYUFBY1MsRUFBVyxRLGdDQUdyQ0MsR0FDZCxJQUFNQyxFQUFZSixTQUFTRyxHQUNYakcsU0FBU0MsY0FBYyxrQ0FDL0J5QixNQUFNNkQsWUFBWSxXQUFZVyxNLG1OQ2xEekJDLEUsc0xBQ0dmLEdBQ2hCLElBQU1nQixFQUFlbEcsT0FBT21HLFlBR3RCQyxHQUZVcEcsT0FBT3FHLFlBRUpDLEtBQUtDLElBQUtyQixFQUFLc0IsYUFBY3RCLEVBQUt1QixlQUUvQ0MsRUFBMEQsS0FBbEQxRyxPQUFPMkcsUUFBVVQsRUFBZWhCLEVBQUswQixXQUFtQlIsRUFDbEVTLEVBQVVqQixTQUFTYyxFQUFLakwsV0FBWSxJQUt4QyxPQUpJb0wsRUFBVSxNQUNWQSxFQUFVLEtBR1BBLEksbUNBR1VILEVBQU1JLEVBQVVDLEdBQ2pDLElBQU1DLEVBQW9CaEgsT0FBT21HLFlBQWNXLEVBRTNDRyxFQUFZckIsVUFERG9CLEVBQW9CTixFQUFPLEtBQ1ZqTCxXQUFZLElBTzVDLE9BTkl1RSxPQUFPbUcsWUFBY25HLE9BQU8yRyxRQUFVSSxJQUN0Q0UsR0FBYXJCLFNBQVM1RixPQUFPbUcsWUFBY25HLE9BQU8yRyxRQUFVSSxFQUFZLEtBRXhFRSxFQUFZLElBQ1pBLEVBQVksR0FFVEEsSSxxQ0FHWS9CLEdBQ25CLElBQUlnQyxFQUFZaEMsRUFBSzBCLFVBQVk1RyxPQUFPMkcsUUFJeEMsT0FISU8sRUFBWSxJQUNaQSxFQUFZLEdBRVRBLEssbU5DaENNQyxFLHFMQUVickgsU0FBU3NILGlCQUFpQixVQUFVLFdBQ2hDLElBQU1DLEVBQVN2SCxTQUFTQyxjQUFjLDRDQUVoQ3VGLEVBQVl4RixTQUFTQyxjQUFjLDZDQUN6QyxHQUFJdUYsUUFBa0MsSUFBZEEsRUFBeEIsQ0FLQSxJQUFNZ0MsRUFBY3JCLEVBQU1zQixlQUFlRixHQUNuQ2xDLEVBQVVyRixTQUFTQyxjQUFjLGtDQUN2Q29GLEVBQVEzRCxNQUFNZ0csSUFBTUYsRUFBYyxLQUNsQ25DLEVBQVEzRCxNQUFNaUcsUUFBVSxRQUV4QixJQUFNQyxFQUFXekIsRUFBTTBCLFlBQVlOLEdBQzdCTixFQUFjTSxFQUFPVCxVQUFZUyxFQUFPTyx3QkFBd0JDLE9BQ2hFQyxFQUFZN0IsRUFBTThCLGFBQWFMLEVBQVVKLEVBQWFQLEdBQzVEekIsRUFBVTlELE1BQU1xRyxPQUFTQyxFQUFZLEtBRXJDLElBQU10QyxFQUFPMUYsU0FBU0MsY0FBYyx3Q0FDcEN5RixFQUFLd0MsVUFBWU4sRUFBVyxJQUV4QmxDLEVBQUtoRSxNQUFNeUcsVUFERyxJQUFkSCxFQUN1QixRQUVBLFFBR3ZCM0MsRUFBUTNELE1BQU1xRyxPQURELE1BQWJILEVBQ3VCSSxFQUFZLEtBRVosYyxvRUN6QjFCLElBQUksSUFMSCxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLElBTUwsV0NSZkksWUFBWWhLLFVBQVVpSyxzQkFBd0IsU0FBU3pILEdBQ25EdUUsYUFBZXZKLE1BQ2Z5TCxhQUVJLFlBQWF6RyxHQUNidUUsYUFBZXZFLEVBQVEwSCxTQUV2QixhQUFjMUgsSUFBZ0MsSUFBckJBLEVBQVEySCxVQUNqQ3BELGdCQUVBLGFBQWN2RSxHQUNkdUUsY0FBZ0J2RSxFQUFRaUYsVUFFeEIsVUFBV2pGLEdBQ1h1RSxjQUFnQnZFLEVBQVFtRixPQUV4QixXQUFZbkYsR0FDWnVFLFlBQWN2RSxFQUFRcUYsVSIsImZpbGUiOiJyZWFkaW5nLXBvc2l0aW9uLWJhci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn07IiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICBiYXJSaWdodDogMDtcXG4gIGJnQ29sb3I6IHJlYmVjY2FwdXJwbGU7XFxuICBiYXJXaWR0aDogOHB4O1xcbiAgekluZGV4OiAxMDAwO1xcbn1cXG5cXG4ucmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXIge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHJpZ2h0OiB2YXIoLS1iYXJSaWdodCk7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogdmFyKC0tYmFyV2lkdGgpO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZDogI0RERDtcXG4gIHotaW5kZXg6IDEwMDA7XFxufVxcblxcbi5yZWFkaW5nLXBvc2l0aW9uLWJhcl9fd3JhcHBlcl9faW5kaWNhdG9yIHtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJnQ29sb3IpO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogOHB4O1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDhweDtcXG59XFxuXFxuLnJlYWRpbmctcG9zaXRpb24tYmFyX193cmFwcGVyX190ZXh0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwcHg7XFxuICBtYXJnaW4tdG9wOiAtMjBweDtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIHdpZHRoOiA0MHB4O1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICBjb2xvcjogd2hpdGU7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9zY3NzL3N0eWxlLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxXQUFXO0VBQ1gsc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixZQUFZO0FBQ2Q7O0FBR0U7RUFDRSxhQUFhO0VBQ2IsZUFBZTtFQUNmLHNCQUFzQjtFQUN0QixNQUFNO0VBQ04sc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsYUFBYTtBQUFqQjs7QUFFSTtFQUNFLDBCQUEwQjtFQUMxQixTQUFTO0VBQ1QsOEJBQThCO0VBQzlCLCtCQUErQjtBQUNyQzs7QUFFSTtFQUNFLGtCQUFrQjtFQUNsQixVQUFVO0VBQ1YsaUJBQWlCO0VBQ2pCLFlBQVk7RUFDWixXQUFXO0VBQ1gsMEJBQTBCO0VBQzFCLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsZUFBZTtBQUNyQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxuICBiYXJSaWdodDogMDtcXG4gIGJnQ29sb3I6IHJlYmVjY2FwdXJwbGU7XFxuICBiYXJXaWR0aDogOHB4O1xcbiAgekluZGV4OiAxMDAwO1xcbn1cXG5cXG4ucmVhZGluZy1wb3NpdGlvbi1iYXIge1xcbiAgJl9fd3JhcHBlciB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgcmlnaHQ6IHZhcigtLWJhclJpZ2h0KTtcXG4gICAgdG9wOiAwO1xcbiAgICB3aWR0aDogdmFyKC0tYmFyV2lkdGgpO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGJhY2tncm91bmQ6ICNEREQ7XFxuICAgIHotaW5kZXg6IDEwMDA7XFxuXFxuICAgICZfX2luZGljYXRvciB7XFxuICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICAgICAgaGVpZ2h0OiAwO1xcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDhweDtcXG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogOHB4O1xcbiAgICB9XFxuXFxuICAgICZfX3RleHQge1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICByaWdodDogMHB4O1xcbiAgICAgIG1hcmdpbi10b3A6IC0yMHB4O1xcbiAgICAgIHBhZGRpbmc6IDVweDtcXG4gICAgICB3aWR0aDogNDBweDtcXG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZ0NvbG9yKTtcXG4gICAgICBjb2xvcjogd2hpdGU7XFxuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICAgICAgZm9udC1zaXplOiAxMnB4O1xcbiAgICB9XFxuICB9XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9tIHtcbiAgICBzdGF0aWMgY3JlYXRlRG9tcyAoZWxlbSkge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAncmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXInXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJhcldpZHRoXCIsICcxMHB4JylcbiAgICAgICAgd3JhcHBlci5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYmFyUmlnaHRcIiwgJzAnKVxuICAgICAgICB3cmFwcGVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS16SW5kZXhcIiwgJzEwMDAnKVxuXG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIGluZGljYXRvci5jbGFzc05hbWUgPSAncmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJfX2luZGljYXRvcidcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLnNldFByb3BlcnR5KFwiLS1iZ0NvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kKGluZGljYXRvcilcblxuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgdGV4dC5jbGFzc05hbWUgPSAncmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJfX3RleHQnXG4gICAgICAgIHRleHQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJnQ29sb3JcIiwgXCJibGFja1wiKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmQodGV4dClcblxuICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1yZWFkaW5nLXBvc2l0aW9uLWJhci13cmFwcGVyJywndHJ1ZScpXG4gICAgICAgIGVsZW0uYXBwZW5kKHdyYXBwZXIpXG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJnQ29sb3IgKGNvbG9yKSB7XG4gICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJfX2luZGljYXRvclwiKVxuICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJnQ29sb3JcIiwgY29sb3IpXG5cbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJfX3RleHRcIilcbiAgICAgICAgdGV4dC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYmdDb2xvclwiLCBjb2xvcilcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzYWJsZVRleHQgKCkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWFkaW5nLXBvc2l0aW9uLWJhcl9fd3JhcHBlcl9fdGV4dFwiKVxuICAgICAgICB0ZXh0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGV4dClcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0QmFyV2lkdGggKHdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGJhcldpZHRoID0gcGFyc2VJbnQod2lkdGgpXG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlYWRpbmctcG9zaXRpb24tYmFyX193cmFwcGVyXCIpXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJhcldpZHRoXCIsIGJhcldpZHRoICsgJ3B4JylcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0QmFyUmlnaHQgKHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGJhclJpZ2h0ID0gcGFyc2VJbnQocmlnaHQpXG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlYWRpbmctcG9zaXRpb24tYmFyX193cmFwcGVyXCIpXG4gICAgICAgIHdyYXBwZXIuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJhclJpZ2h0XCIsIGJhclJpZ2h0ICsgJ3B4JylcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0WkluZGV4ICh6SW5kZXgpIHtcbiAgICAgICAgY29uc3QgYmFyWkluZGV4ID0gcGFyc2VJbnQoekluZGV4KVxuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWFkaW5nLXBvc2l0aW9uLWJhcl9fd3JhcHBlclwiKVxuICAgICAgICB3cmFwcGVyLnN0eWxlLnNldFByb3BlcnR5KFwiLS16SW5kZXhcIiwgYmFyWkluZGV4KVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVdGlscyB7XG4gICAgc3RhdGljIGdldFJlYWRSYXRlIChlbGVtKSB7XG4gICAgICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICBjb25zdCB5T2ZmU2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0XG5cbiAgICAgICAgY29uc3QgcGFnZUhlaWdodCA9IE1hdGgubWF4KCBlbGVtLnNjcm9sbEhlaWdodCwgZWxlbS5vZmZzZXRIZWlnaHQgKVxuXG4gICAgICAgIGNvbnN0IHJhdGUgPSAod2luZG93LnNjcm9sbFkgKyB3aW5kb3dIZWlnaHQgLSBlbGVtLm9mZnNldFRvcCkgKiAxMDAgLyBwYWdlSGVpZ2h0XG4gICAgICAgIGxldCBpbnRSYXRlID0gcGFyc2VJbnQocmF0ZS50b1N0cmluZygpLCAxMClcbiAgICAgICAgaWYgKGludFJhdGUgPiAxMDApIHtcbiAgICAgICAgICAgIGludFJhdGUgPSAxMDBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRSYXRlXG4gICAgfVxuXG4gICAgc3RhdGljIGdldEJhckhlaWdodCAocmF0ZSwgZWxlbVlQb3MsIGVsZW1Cb3R0b21ZKSB7XG4gICAgICAgIGNvbnN0IGVsZW1WaXNpYmxlSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gZWxlbVlQb3NcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxlbVZpc2libGVIZWlnaHQgKiByYXRlIC8gMTAwXG4gICAgICAgIGxldCBpbnRIZWlnaHQgPSBwYXJzZUludChoZWlnaHQudG9TdHJpbmcoKSwgMTApXG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgKyB3aW5kb3cuc2Nyb2xsWSA+IGVsZW1Cb3R0b21ZKSB7XG4gICAgICAgICAgICBpbnRIZWlnaHQgLT0gcGFyc2VJbnQod2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFkgLSBlbGVtQm90dG9tWSwxMClcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50SGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgaW50SGVpZ2h0ID0gMFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRIZWlnaHRcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0RWxlbWVudFlQb3MgKGVsZW0pIHtcbiAgICAgICAgbGV0IHJlbGF0aXZlWSA9IGVsZW0ub2Zmc2V0VG9wIC0gd2luZG93LnNjcm9sbFlcbiAgICAgICAgaWYgKHJlbGF0aXZlWSA8IDApIHtcbiAgICAgICAgICAgIHJlbGF0aXZlWSA9IDBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsYXRpdmVZXG4gICAgfVxufSIsImltcG9ydCBVdGlscyBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRIYW5kbGVyIHtcbiAgICBzdGF0aWMgc2V0RXZlbnQgKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1yZWFkaW5nLXBvc2l0aW9uLWJhci13cmFwcGVyPXRydWVdXCIpXG5cbiAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJfX2luZGljYXRvclwiKVxuICAgICAgICAgICAgaWYoIWluZGljYXRvciB8fCB0eXBlb2YgaW5kaWNhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDlr77osaFET03jga7kvY3nva7jgpLlj5blvpdcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRZUG9zID0gVXRpbHMuZ2V0RWxlbWVudFlQb3MocGFyZW50KVxuICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhZGluZy1wb3NpdGlvbi1iYXJfX3dyYXBwZXJcIilcbiAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUudG9wID0gZWxlbWVudFlQb3MgKyAncHgnXG4gICAgICAgICAgICB3cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cbiAgICAgICAgICAgIGNvbnN0IHJlYWRSYXRlID0gVXRpbHMuZ2V0UmVhZFJhdGUocGFyZW50KVxuICAgICAgICAgICAgY29uc3QgZWxlbUJvdHRvbVkgPSBwYXJlbnQub2Zmc2V0VG9wICsgcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gVXRpbHMuZ2V0QmFySGVpZ2h0KHJlYWRSYXRlLCBlbGVtZW50WVBvcywgZWxlbUJvdHRvbVkpXG4gICAgICAgICAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gYmFySGVpZ2h0ICsgXCJweFwiXG5cbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlYWRpbmctcG9zaXRpb24tYmFyX193cmFwcGVyX190ZXh0XCIpXG4gICAgICAgICAgICB0ZXh0LmlubmVySFRNTCA9IHJlYWRSYXRlICsgXCIlXCJcbiAgICAgICAgICAgIGlmIChiYXJIZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0ZXh0LnN0eWxlLm1hcmdpblRvcCA9IFwiLTMycHhcIlxuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIHRleHQuc3R5bGUubWFyZ2luVG9wID0gXCItMjBweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVhZFJhdGUgPT09IDEwMCkge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gYmFySGVpZ2h0ICsgXCJweFwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0udXNlWzFdIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS51c2VbMl0hLi9zdHlsZS5zY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiaW1wb3J0IERvbSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgRXZlbnRIYW5kbGVyIGZyb20gJy4vZXZlbnRIYW5kbGVyJztcbmltcG9ydCAnLi9zY3NzL3N0eWxlLnNjc3MnO1xuXG5IVE1MRWxlbWVudC5wcm90b3R5cGUuYWRkUmVhZGluZ1Bvc2l0aW9uQmFyID0gZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgRG9tLmNyZWF0ZURvbXModGhpcylcbiAgICBFdmVudEhhbmRsZXIuc2V0RXZlbnQoKVxuXG4gICAgaWYgKCdiZ0NvbG9yJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIERvbS5zZXRCZ0NvbG9yKG9wdGlvbnMuYmdDb2xvcilcbiAgICB9XG4gICAgaWYgKCdzaG93VGV4dCcgaW4gb3B0aW9ucyAmJiBvcHRpb25zLnNob3dUZXh0ID09PSBmYWxzZSkge1xuICAgICAgICBEb20uZGlzYWJsZVRleHQoKVxuICAgIH1cbiAgICBpZiAoJ2JhcldpZHRoJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIERvbS5zZXRCYXJXaWR0aChvcHRpb25zLmJhcldpZHRoKVxuICAgIH1cbiAgICBpZiAoJ3JpZ2h0JyBpbiBvcHRpb25zKSB7XG4gICAgICAgIERvbS5zZXRCYXJSaWdodChvcHRpb25zLnJpZ2h0KVxuICAgIH1cbiAgICBpZiAoJ3pJbmRleCcgaW4gb3B0aW9ucykge1xuICAgICAgICBEb20uc2V0WkluZGV4KG9wdGlvbnMuekluZGV4KVxuICAgIH1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9